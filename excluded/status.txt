diff --git a/README.md b/README.md
index 92637a9..c755812 100644
--- a/README.md
+++ b/README.md
@@ -92,6 +92,14 @@ plugins {
     id("com.komunasuarus.hovermaps") version "1.0.0"
 }
 
+repositories {
+    mavenLocal()
+    mavenCentral()
+    maven("https://www.jetbrains.com/intellij-repository/releases")
+    maven("https://packages.jetbrains.team/maven/p/ij/intellij-dependencies")
+    maven("https://maven.pkg.jetbrains.space/kotlin/p/kotlin/dev")
+}
+
 hoverMaps {
     docsDir.set(layout.projectDirectory.dir("docs"))
     snippetsDir.set(layout.projectDirectory.dir("docs/snippets"))
@@ -281,6 +289,12 @@ Run engine tests:
 ./gradlew :hover-engine:test
 ```
 
+Run the golden-path Gradle integration check:
+
+```bash
+./gradlew validateHoverGradleIntegration
+```
+
 Test with example snippet:
 
 ```bash
diff --git a/build.gradle.kts b/build.gradle.kts
index 7aa1a2a..2f2ac56 100644
--- a/build.gradle.kts
+++ b/build.gradle.kts
@@ -42,3 +42,27 @@ tasks.register("publishHoverGradlePluginToMavenLocal") {
         ":hover-gradle:publishToMavenLocal",
     )
 }
+
+tasks.register<Exec>("validateHoverGradleIntegration") {
+    group = "verification"
+    description = "Runs the golden-path consumer build for the hover-gradle plugin."
+    dependsOn("publishHoverGradlePluginToMavenLocal")
+
+    val intellijHome = providers.gradleProperty("intellijHome")
+        .orNull
+        ?: error("Missing intellijHome property (set to IntelliJ IDEA app path).")
+    val hoverPluginVersion = providers.gradleProperty("hover.plugin.version")
+        .orElse(providers.gradleProperty("hover.cli.version"))
+        .orElse("0.1.0-SNAPSHOT")
+
+    val consumerDir = file("docs/integration/gradle-consumer")
+    commandLine(
+        file("gradlew").absolutePath,
+        "-p",
+        consumerDir.absolutePath,
+        "generateHoverMaps",
+        "-PintellijHome=$intellijHome",
+        "-PhoverPluginVersion=${hoverPluginVersion.get()}",
+        "--refresh-dependencies",
+    )
+}
diff --git a/hover-engine/build.gradle.kts b/hover-engine/build.gradle.kts
index ed1cd40..d763b8e 100644
--- a/hover-engine/build.gradle.kts
+++ b/hover-engine/build.gradle.kts
@@ -26,12 +26,6 @@ if (!kotlinPluginJar.exists()) {
 if (!kotlinPluginLibDir.exists()) {
     error("Kotlin plugin lib directory not found at ${kotlinPluginLibDir.path}")
 }
-val kotlinPluginLibs = fileTree(kotlinPluginLibDir) { include("*.jar") }
-val kotlinStdlibJar = configurations.runtimeClasspath.map { files ->
-    files.firstOrNull { file ->
-        file.name.startsWith("kotlin-stdlib-") && !file.name.contains("jdk")
-    } ?: error("kotlin-stdlib jar not found on runtimeClasspath")
-}
 
 val analysisApiResourcesJar = layout.buildDirectory.file("analysis-api-resources.jar")
 val extractAnalysisApiResources by tasks.registering(Zip::class) {
@@ -43,18 +37,6 @@ val extractAnalysisApiResources by tasks.registering(Zip::class) {
     destinationDirectory.set(analysisApiResourcesJar.get().asFile.parentFile)
 }
 
-tasks.named<Jar>("jar") {
-    dependsOn(extractAnalysisApiResources)
-    from(zipTree(analysisApiResourcesJar))
-    from(kotlinPluginLibs.map { zipTree(it) }) {
-        exclude("META-INF/*.SF", "META-INF/*.DSA", "META-INF/*.RSA")
-    }
-    from(kotlinStdlibJar.map { zipTree(it) }) {
-        exclude("META-INF/*.SF", "META-INF/*.DSA", "META-INF/*.RSA")
-    }
-    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
-}
-
 dependencies {
     api(project(":hover-schema"))
     implementation(kotlin("stdlib"))
diff --git a/hover-gradle/build.gradle.kts b/hover-gradle/build.gradle.kts
index 44ef64d..f0cbdf6 100644
--- a/hover-gradle/build.gradle.kts
+++ b/hover-gradle/build.gradle.kts
@@ -23,3 +23,9 @@ gradlePlugin {
         }
     }
 }
+
+tasks.withType<Jar>().configureEach {
+    manifest {
+        attributes["Implementation-Version"] = project.version
+    }
+}
diff --git a/hover-gradle/src/main/kotlin/hovergen/gradle/GenerateHoverMapsTask.kt b/hover-gradle/src/main/kotlin/hovergen/gradle/GenerateHoverMapsTask.kt
index f809d19..5e59856 100644
--- a/hover-gradle/src/main/kotlin/hovergen/gradle/GenerateHoverMapsTask.kt
+++ b/hover-gradle/src/main/kotlin/hovergen/gradle/GenerateHoverMapsTask.kt
@@ -1,13 +1,6 @@
 package hovergen.gradle
 
-import hovergen.engine.HoverEngine
-import hovergen.engine.HoverEngineException
-import hovergen.engine.HoverMapWriter
-import hovergen.engine.SnippetExtractor
-import hovergen.engine.analysis.AnalysisApiConfig
-import hovergen.engine.analysis.AnalysisApiSemanticAnalyzer
 import org.gradle.api.DefaultTask
-import org.gradle.api.GradleException
 import org.gradle.api.file.ConfigurableFileCollection
 import org.gradle.api.file.DirectoryProperty
 import org.gradle.api.provider.Property
@@ -17,8 +10,12 @@ import org.gradle.api.tasks.InputDirectory
 import org.gradle.api.tasks.Optional
 import org.gradle.api.tasks.OutputDirectory
 import org.gradle.api.tasks.TaskAction
+import org.gradle.workers.WorkerExecutor
+import javax.inject.Inject
 
-abstract class GenerateHoverMapsTask : DefaultTask() {
+abstract class GenerateHoverMapsTask @Inject constructor(
+    private val workerExecutor: WorkerExecutor
+) : DefaultTask() {
     @get:InputDirectory
     @get:Optional
     abstract val docsDir: DirectoryProperty
@@ -37,25 +34,24 @@ abstract class GenerateHoverMapsTask : DefaultTask() {
     abstract val kotlinVersion: Property<String>
 
     @get:Classpath
-    abstract val classpath: ConfigurableFileCollection
+    abstract val analysisClasspath: ConfigurableFileCollection
+
+    @get:Classpath
+    abstract val workerClasspath: ConfigurableFileCollection
 
     @TaskAction
     fun generate() {
-        val analyzer = AnalysisApiSemanticAnalyzer(
-            AnalysisApiConfig(classpath.files.map { it.toPath() })
-        )
-        val engine = HoverEngine(analyzer)
-        val extractor = SnippetExtractor()
-        val docsPath = docsDir.orNull?.asFile?.toPath()
-        val snippetsPath = snippetsDir.orNull?.asFile?.toPath()
-        val sources = extractor.extract(snippetsPath, docsPath, includeMdx.get())
-        try {
-            sources.forEach { source ->
-                val hoverMap = engine.generateHoverMap(source, kotlinVersion.get())
-                HoverMapWriter.write(hoverMap, outputDir.get().asFile.toPath())
-            }
-        } catch (exception: HoverEngineException) {
-            throw GradleException(exception.message ?: "Hover map generation failed", exception)
+        val queue = workerExecutor.processIsolation {
+            it.classpath.from(workerClasspath)
+        }
+        queue.submit(GenerateHoverMapsWorkAction::class.java) { params ->
+            params.docsDir.set(docsDir)
+            params.snippetsDir.set(snippetsDir)
+            params.outputDir.set(outputDir)
+            params.includeMdx.set(includeMdx)
+            params.kotlinVersion.set(kotlinVersion)
+            params.analysisClasspath.from(analysisClasspath)
         }
+        queue.await()
     }
 }
diff --git a/hover-gradle/src/main/kotlin/hovergen/gradle/HoverMapsPlugin.kt b/hover-gradle/src/main/kotlin/hovergen/gradle/HoverMapsPlugin.kt
index 11d549d..c80dae3 100644
--- a/hover-gradle/src/main/kotlin/hovergen/gradle/HoverMapsPlugin.kt
+++ b/hover-gradle/src/main/kotlin/hovergen/gradle/HoverMapsPlugin.kt
@@ -7,6 +7,10 @@ import org.jetbrains.kotlin.gradle.plugin.getKotlinPluginVersion
 
 class HoverMapsPlugin : Plugin<Project> {
     override fun apply(project: Project) {
+        val pluginVersion = HoverMapsPlugin::class.java.`package`.implementationVersion
+            ?: project.findProperty("hover.plugin.version")?.toString()
+            ?: project.findProperty("hover.cli.version")?.toString()
+            ?: throw GradleException("Unable to determine hovermaps plugin version.")
         val intellijHome = project.findProperty("intellijHome") as String?
             ?: throw GradleException("Missing intellijHome property (set to IntelliJ IDEA app path).")
         val kotlinPluginLibDir = project.file("$intellijHome/Contents/plugins/Kotlin/lib")
@@ -22,6 +26,20 @@ class HoverMapsPlugin : Plugin<Project> {
         extension.kotlinVersion.convention(project.getKotlinPluginVersion())
 
         val kotlinPluginJars = project.fileTree(kotlinPluginLibDir).matching { it.include("*.jar") }
+        val pluginJar = HoverMapsPlugin::class.java.protectionDomain.codeSource?.location?.toURI()
+            ?.let { project.file(it) }
+            ?: throw GradleException("Unable to locate hovermaps plugin jar.")
+        val engineClasspath = project.configurations.detachedConfiguration(
+            project.dependencies.create("com.komunasuarus:hover-engine:$pluginVersion")
+        ).apply {
+            isTransitive = true
+            resolutionStrategy.force(
+                "org.jetbrains.kotlin:kotlin-stdlib:${extension.kotlinVersion.get()}",
+                "org.jetbrains.kotlin:kotlin-stdlib-jdk7:${extension.kotlinVersion.get()}",
+                "org.jetbrains.kotlin:kotlin-stdlib-jdk8:${extension.kotlinVersion.get()}",
+                "org.jetbrains.kotlin:kotlin-reflect:${extension.kotlinVersion.get()}",
+            )
+        }
 
         project.tasks.register("generateHoverMaps", GenerateHoverMapsTask::class.java) { task ->
             task.group = "documentation"
@@ -31,8 +49,10 @@ class HoverMapsPlugin : Plugin<Project> {
             task.outputDir.set(extension.outputDir)
             task.includeMdx.set(extension.includeMdx)
             task.kotlinVersion.set(extension.kotlinVersion)
-            task.classpath.from(kotlinPluginJars)
-            project.configurations.findByName("compileClasspath")?.let { task.classpath.from(it) }
+            task.workerClasspath.from(kotlinPluginJars, engineClasspath, pluginJar)
+            project.configurations.findByName("compileClasspath")
+                ?.let { task.analysisClasspath.from(it) }
+                ?: task.analysisClasspath.from(engineClasspath)
         }
     }
 }
